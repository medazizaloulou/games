<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Neon Pro Clicker</title>

<style>
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:#0a0a0f;
  color:#0ff;
  text-align:center;
  overflow:hidden;
}
#bgCanvas{
  position:fixed;
  top:0;left:0;
  width:100%;height:100%;
  z-index:-1;
}
#mainMenu{
  position:absolute;
  width:100%;height:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,0.6);
}
#mainMenu h1{
  font-size:48px;
  text-shadow:0 0 15px #0ff;
}
#mainMenu button{
  padding:15px 30px;
  font-size:18px;
  border:none;
  border-radius:10px;
  background:#111;
  color:#0ff;
  cursor:pointer;
  box-shadow:0 0 20px #0ff;
}
#gameScreen{display:none;padding-top:100px;}
.header{
  position:fixed;
  top:0;width:100%;
  background:#05050a;
  padding:10px;
  box-shadow:0 0 20px #0ff;
}
#score,#timer{
  font-size:20px;
  text-shadow:0 0 10px #0ff;
}
#box{
  position:absolute;
  display:none;
  width:60px;
  height:60px;
  border-radius:10px;
  cursor:pointer;
  box-shadow:0 0 25px #0ff;
}
.pointBubble{
  position:absolute;
  color:#ff0;
  font-weight:bold;
  pointer-events:none;
  animation:rise 1s forwards;
}
@keyframes rise{
  from{opacity:1;transform:translateY(0);}
  to{opacity:0;transform:translateY(-40px);}
}
</style>
</head>

<body>

<canvas id="bgCanvas"></canvas>

<div id="mainMenu">
  <h1>ğŸ® Neon Pro Clicker</h1>
  <button onclick="enableAudio(); startGameFromMenu()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
</div>

<div id="gameScreen">
  <div class="header">
    <div id="score">Ø§Ù„Ù†Ù‚Ø§Ø·: 0</div>
    <div id="timer">Ø§Ù„ÙˆÙ‚Øª: 30</div>
  </div>
  <div id="box"></div>
</div>

<script>
// ===== Ø®Ù„ÙÙŠØ© =====
const canvas=document.getElementById("bgCanvas");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth; canvas.height=innerHeight;

let stars=[];
for(let i=0;i<50;i++){
  stars.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height});
}
function bg(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="#0ff";
  stars.forEach(s=>{
    ctx.fillRect(s.x,s.y,2,2);
    s.y+=0.6;
    if(s.y>canvas.height) s.y=0;
  });
  requestAnimationFrame(bg);
}
bg();

// ===== Ø§Ù„Ø£ØµÙˆØ§Øª (Ø­Ù„ Ø§Ù„Ù…ØªØµÙØ­) =====
let audioEnabled=false;

const clickSound=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-game-click-1114.mp3");
const startSound=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-game-level-music-689.mp3");
const comboSound=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-arcade-bonus-alert-767.mp3");
const endSound=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-retro-game-over-1947.mp3");

function enableAudio(){
  if(audioEnabled) return;
  audioEnabled=true;
  clickSound.play().then(()=>{
    clickSound.pause();
    clickSound.currentTime=0;
  }).catch(()=>{});
}

// ===== Ù…ØªØºÙŠØ±Ø§Øª =====
let score=0;
let timeLeft=30;
let game=false;
let timer;
let combo=0;

const box=document.getElementById("box");
const scoreEl=document.getElementById("score");
const timerEl=document.getElementById("timer");

// ===== ØªØ´ØºÙŠÙ„ =====
function startGameFromMenu(){
  document.getElementById("mainMenu").style.display="none";
  document.getElementById("gameScreen").style.display="block";
  startGame();
}

function startGame(){
  if(game) return;
  game=true;
  score=0;
  combo=0;
  timeLeft=30;

  if(audioEnabled){startSound.currentTime=0;startSound.play();}

  scoreEl.innerText="Ø§Ù„Ù†Ù‚Ø§Ø·: 0";
  timerEl.innerText="Ø§Ù„ÙˆÙ‚Øª: 30";

  timer=setInterval(()=>{
    timeLeft--;
    timerEl.innerText="Ø§Ù„ÙˆÙ‚Øª: "+timeLeft;
    if(timeLeft<=0) endGame();
  },1000);

  showBox();
}

function showBox(){
  if(!game) return;
  box.style.left=Math.random()*(innerWidth-60)+"px";
  box.style.top=(Math.random()*(innerHeight-160)+100)+"px";
  box.style.background=randomColor();
  box.style.display="block";
}

box.onclick=()=>{
  if(!game) return;

  if(audioEnabled){clickSound.currentTime=0;clickSound.play();}

  score++;
  combo++;
  scoreEl.innerText="Ø§Ù„Ù†Ù‚Ø§Ø·: "+score;
  bubble("+1",box.offsetLeft,box.offsetTop);

  if(combo>=5){
    if(audioEnabled){comboSound.currentTime=0;comboSound.play();}
    bubble("COMBO!",box.offsetLeft,box.offsetTop-20);
    combo=0;
  }
  showBox();
};

function endGame(){
  game=false;
  clearInterval(timer);
  box.style.display="none";
  if(audioEnabled){endSound.currentTime=0;endSound.play();}
  alert("Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª! Ù†Ù‚Ø§Ø·Ùƒ: "+score);
}

function bubble(t,x,y){
  const b=document.createElement("div");
  b.className="pointBubble";
  b.innerText=t;
  b.style.left=x+"px";
  b.style.top=y+"px";
  document.body.appendChild(b);
  setTimeout(()=>b.remove(),1000);
}

function randomColor(){
  return "#"+Math.floor(Math.random()*16777215).toString(16);
}
</script>

</body>
</html>
